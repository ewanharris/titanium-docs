{"name":"Modules.Geofence","summary":"<p>Provides a battery-efficient way to monitor a device's movement into or out of a geographic region.</p>\n","extends":"Titanium.Module","platforms":[{"since":"3.1.3","name":"android"},{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"type":"module","editUrl":"https://github.com/appcelerator/titanium_mobile/edit/master/apidoc/geofence.yml","events":[{"name":"error","summary":"<p>Fired when there is an error, or monitoring failed for a region.</p>\n","platforms":[{"since":"3.1.3","name":"android"},{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"properties":[{"name":"error","summary":"<p>A string that describes the error.</p>\n","type":"String"},{"name":"errorcode","summary":"<p>A number that describes the error (Android, only). Can be one of the following: <a href=\"/api/modules/geofence.html#location_status_error\">LOCATION_STATUS_ERROR</a>, <a href=\"/api/modules/geofence.html#location_status_geofence_not_available\">LOCATION_STATUS_GEOFENCE_NOT_AVAILABLE</a>, <a href=\"/api/modules/geofence.html#location_status_geofence_too_many_geofences\">LOCATION_STATUS_GEOFENCE_TOO_MANY_GEOFENCES</a>, <a href=\"/api/modules/geofence.html#location_status_geofence_too_many_pending_intents\">LOCATION_STATUS_GEOFENCE_TOO_MANY_PENDING_INTENTS</a></p>\n","type":"Number"},{"name":"regions","summary":"<p>The regions for which monitoring failed. On iOS, this property contains an array of <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> objects representing the regions for which monitoring failed. On Android, this property contains an array of generic objects, each of which has an <a href=\"/api/modules/geofence/region.html#identifier\">identifier</a> property that corresponds to the region(s) that were entered.</p>\n","type":["Array<Dictionary>","Array<Modules.Geofence.Region>"]},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"}]},{"name":"enterregions","summary":"<p>Fired when the device enters a monitored region.</p>\n","platforms":[{"since":"3.1.3","name":"android"},{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"properties":[{"name":"regions","summary":"<p>The region(s) that were entered. On iOS, this property contains an array of <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> objects representing the regions that were entered. On Android, this property contains an array of generic objects, each of which has an <a href=\"/api/modules/geofence/region.html#identifier\">identifier</a> property that corresponds to the region(s) that were entered.</p>\n","type":["Array<Dictionary>","Array<Modules.Geofence.Region>"]},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"}]},{"name":"exitregions","summary":"<p>Fired when the device exits a monitored region.</p>\n","platforms":[{"since":"3.1.3","name":"android"},{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"properties":[{"name":"regions","summary":"<p>The region(s) that were exited. On iOS, this property contains an array of <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> objects representing the regions that were exited. On Android, this property contains an array of generic objects, each of which has an <a href=\"/api/modules/geofence/region.html#identifier\">identifier</a> property that corresponds to the region(s) that were exited.</p>\n","type":["Array<Dictionary>","Array<Modules.Geofence.Region>"]},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"}]},{"name":"monitorregions","summary":"<p>Fired when <a href=\"/api/modules/geofence.html#startmonitoringforregions\">startMonitoringForRegions</a> and monitoring has successfully started for those regions.</p>\n","platforms":[{"since":"3.1.3","name":"android"},{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"properties":[{"name":"regions","summary":"<p>The region(s) for which monitoring has started. On iOS, this property contains an array of <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> objects representing the regions for which monitoring has started. On Android, there is no property for you to check.</p>\n","type":["Array<Dictionary>","Array<Modules.Geofence.Region>"]},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"}]},{"name":"regionstate","summary":"<p>Fired when <a href=\"/api/modules/geofence.html#requeststateforregion\">requestStateForRegion</a> requested a state or there is\na state transition for a monitored region.</p>\n","platforms":[{"since":"3.1.3","name":"android"},{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"properties":[{"name":"region","summary":"<p>The region that triggered the state change.</p>\n","type":"Modules.Geofence.Region"},{"name":"state","summary":"<p>The updated region state. One of <code>REGION_STATE_*</code>.</p>\n","type":"Number"},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"}]},{"name":"removeregions","summary":"<p>Fired on Android when regions are removed using <code>stopMonitoringForRegions</code> or <code>stopMonitoringAllRegions</code> and monitoring has successfully stopped for those regions.</p>\n","platforms":[{"since":"3.1.3","name":"android"}],"properties":[{"name":"regions","summary":"<p>The region(s) for which monitoring has stopped. On iOS, this property contains an array of <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> objects representing the regions for which monitoring has stopped. On Android, this property contains an array of generic objects, each of which has an <a href=\"/api/modules/geofence/region.html#identifier\">identifier</a> property that corresponds to the region(s) for which monitoring has stopped.</p>\n","type":["Array<Dictionary>","Array<Modules.Geofence.Region>"]},{"name":"source","summary":"<p>Source object that fired the event.</p>\n","type":"Object"},{"name":"type","summary":"<p>Name of the event fired.</p>\n","type":"String"},{"name":"bubbles","summary":"<p>True if the event will try to bubble up if possible.</p>\n","type":"Boolean"},{"name":"cancelBubble","summary":"<p>Set to true to stop the event from bubbling.</p>\n","type":"Boolean"}]}],"methods":[{"name":"createRegion","summary":"<p>Creates a geofence <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a>.</p>\n","description":"<p>Example:</p>\n<!--beforebegin--><div class=\"language-javascript extra-class\"><!--afterbegin--><pre v-pre class=\"language-javascript\"><code><span class=\"token keyword\">var</span> region <span class=\"token operator\">=</span> Geofence<span class=\"token punctuation\">.</span><span class=\"token function\">createRegion</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    center<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.38960100</span><span class=\"token punctuation\">,</span>\n        longitude<span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">122.05016900</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    radius<span class=\"token operator\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span>\n    identifier<span class=\"token operator\">:</span> <span class=\"token string\">'Appcelerator'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<!--beforeend--></div><!--afterend-->","platforms":[{"since":"3.1.3","name":"android"},{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"parameters":[{"name":"object","summary":"<p>Object with properties of the <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> object.</p>\n","type":"Dictionary<Modules.Geofence.Region>"}],"returns":{"type":"Modules.Geofence.Region"}},{"name":"isGooglePlayServicesAvailable","deprecated":{"notes":"<p>Use <a href=\"/api/modules/playservices.html#isgoogleplayservicesavailable\">isGooglePlayServicesAvailable</a> in Titanium SDK 7.0.0 and later.</p>\n","since":"3.0.0","removed":"3.0.0"},"summary":"<p>Returns a number value indicating the availability of Google Play Services which are required to monitor regions.</p>\n","description":"<p>Possible values include <a href=\"Modules.Geofence.SUCCESS\">SUCCESS</a>, <a href=\"Modules.Geofence.SERVICE_MISSING\">SERVICE_MISSING</a>, <a href=\"Modules.Geofence.SERVICE_VERSION_UPDATE_REQUIRED\">SERVICE_VERSION_UPDATE_REQUIRED</a>, <a href=\"Modules.Geofence.SERVICE_DISABLED\">SERVICE_DISABLED</a>, and <a href=\"Modules.Geofence.SERVICE_INVALID\">SERVICE_INVALID</a>.\nExample:</p>\n<!--beforebegin--><div class=\"language-javascript extra-class\"><!--afterbegin--><pre v-pre class=\"language-javascript\"><code><span class=\"token keyword\">var</span> Playservices <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ti.playservices'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> hasGooglePlayServices <span class=\"token operator\">=</span> Playservices<span class=\"token punctuation\">.</span><span class=\"token function\">isGooglePlayServicesAvailable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<!--beforeend--></div><!--afterend-->","platforms":[{"since":"3.1.3","name":"android"}],"returns":{"type":"Boolean"}},{"name":"regionMonitoringAvailable","summary":"<p>Returns a boolean that indicates if region monitoring is supported on the current device.</p>\n","description":"<p>Example:</p>\n<!--beforebegin--><div class=\"language-javascript extra-class\"><!--afterbegin--><pre v-pre class=\"language-javascript\"><code><span class=\"token keyword\">var</span> canMonitor <span class=\"token operator\">=</span> Geofence<span class=\"token punctuation\">.</span><span class=\"token function\">regionMonitoringAvailable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<!--beforeend--></div><!--afterend-->","platforms":[{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"returns":{"type":"Boolean"}},{"name":"requestStateForRegion","summary":"<p>Asynchronously retrieve the cached state of the specified region.</p>\n","description":"<p>The state is returned to the delegate via the <code>regionstate</code> event.</p>\n","platforms":[{"since":"7.1.0","name":"iphone"},{"since":"7.1.0","name":"ipad"}],"returns":{"type":"void"}},{"name":"startMonitoringForRegions","summary":"<p>Starts monitoring the <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> passed as a parameter.</p>\n","description":"<p>Takes either an array of <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> objects or a single\n<a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> object as an argument.</p>\n<p>On Android, if the device is located in a <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> that has just\nstarted being monitored, an <a href=\"/api/modules/geofence.html#enterregions\">enterregions</a>\nevent is generated. On iOS, this scenario will not generate an <code>enterregions</code> event;\ninstead, call the <a href=\"/api/modules/geofence/region.html#containscoordinate\">containsCoordinate</a> method\non the newly <code>Region</code> object to check if the device is located within it.</p>\n<p>Each platform limits the number of regions that can be monitored at one time. On iOS this limit is 20 regions,\nand 100 regions on Android. The following example creates a new Region object and then starts monitoring it.</p>\n<!--beforebegin--><div class=\"language-javascript extra-class\"><!--afterbegin--><pre v-pre class=\"language-javascript\"><code><span class=\"token keyword\">var</span> region1 <span class=\"token operator\">=</span> Geofence<span class=\"token punctuation\">.</span><span class=\"token function\">createRegion</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    center<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.389601</span><span class=\"token punctuation\">,</span>\n        longitude<span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">122.050169</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    radius<span class=\"token operator\">:</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span>\n    identifier<span class=\"token operator\">:</span> <span class=\"token string\">'Appcelerator'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nGeofence<span class=\"token punctuation\">.</span><span class=\"token function\">startMonitoringForRegions</span><span class=\"token punctuation\">(</span>region1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<!--beforeend--></div><!--afterend-->","platforms":[{"since":"3.1.3","name":"android"},{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"parameters":[{"name":"Region","summary":"<p>Either an array of <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> objects or a single <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> object.</p>\n","type":["Array<Modules.Geofence.Region>","Modules.Geofence.Region"]}],"returns":{"type":"void"}},{"name":"stopMonitoringAllRegions","summary":"<p>Stops monitoring all of the regions that are currently being monitored.</p>\n","description":"<p>This method is asynchronous on Android. The <code>removeregions</code> event will fire on completion.</p>\n<p>Example:</p>\n<!--beforebegin--><div class=\"language-javascript extra-class\"><!--afterbegin--><pre v-pre class=\"language-javascript\"><code>Geofence<span class=\"token punctuation\">.</span><span class=\"token function\">stopMonitoringAllRegions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<!--beforeend--></div><!--afterend-->","platforms":[{"since":"3.1.3","name":"android"},{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"returns":{"type":"void"}},{"name":"stopMonitoringForRegions","summary":"<p>Stops monitoring the specified region or regions.</p>\n","description":"<p>Takes either an array of <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> objects or a single\n<a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> object as an argument.</p>\n<p>This method is asynchronous on Android. The <code>removeregions</code> event will fire on completion.</p>\n<!--beforebegin--><div class=\"language-javascript extra-class\"><!--afterbegin--><pre v-pre class=\"language-javascript\"><code>Geofence<span class=\"token punctuation\">.</span><span class=\"token function\">stopMonitoringForRegions</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>region<span class=\"token punctuation\">,</span> region1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre>\n<!--beforeend--></div><!--afterend-->","platforms":[{"since":"3.1.3","name":"android"},{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"parameters":[{"name":"Region","summary":"<p>Either an array of <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> objects or a single <a href=\"/api/modules/geofence/region.html\">Modules.Geofence.Region</a> object.</p>\n","type":["Array<Modules.Geofence.Region>","Modules.Geofence.Region"]}],"returns":{"type":"void"}}],"properties":[{"name":"monitoredRegions","summary":"<p>An array of the regions currently being monitored for the current application.</p>\n","description":"<p>Example:</p>\n<!--beforebegin--><div class=\"language-javascript extra-class\"><!--afterbegin--><pre v-pre class=\"language-javascript\"><code><span class=\"token keyword\">var</span> regions <span class=\"token operator\">=</span> Geofence<span class=\"token punctuation\">.</span>monitoredRegions<span class=\"token punctuation\">;</span>\n</code></pre>\n<!--beforeend--></div><!--afterend-->","platforms":[{"since":"3.1.3","name":"iphone"},{"since":"3.1.3","name":"ipad"}],"type":"Array<Modules.Geofence.Region>","permission":"read-only"}],"constants":[{"name":"LOCATION_STATUS_ERROR","summary":"<p>Possible value of the <code>errorcode</code> property in the <a href=\"/api/modules/geofence.html#error\">error</a> event object indicating an unspecified error occurred.</p>\n","platforms":[{"since":"3.1.3","name":"android"}],"type":"Number","permission":"read-only"},{"name":"LOCATION_STATUS_GEOFENCE_NOT_AVAILABLE","summary":"<p>Possible value of the <code>errorcode</code> property in the <a href=\"/api/modules/geofence.html#error\">error</a> event object indicating the geofence service is not available now.</p>\n","platforms":[{"since":"3.1.3","name":"android"}],"type":"Number","permission":"read-only"},{"name":"LOCATION_STATUS_GEOFENCE_TOO_MANY_GEOFENCES","summary":"<p>Possible value of the <code>errorcode</code> property in the <a href=\"/api/modules/geofence.html#error\">error</a> event object indicating your application has registered more than 100 geofences.</p>\n","platforms":[{"since":"3.1.3","name":"android"}],"type":"Number","permission":"read-only"},{"name":"LOCATION_STATUS_GEOFENCE_TOO_MANY_PENDING_INTENTS","summary":"<p>Possible value of the <code>errorcode</code> property in the <a href=\"/api/modules/geofence.html#error\">error</a> event object.</p>\n","platforms":[{"since":"3.1.3","name":"android"}],"type":"Number","permission":"read-only"},{"name":"REGION_STATE_INSIDE","summary":"<p>Possible value of the <code>state</code> property in the <a href=\"/api/modules/geofence.html#regionstate\">regionstate</a> event object.</p>\n","description":"<p>The location is inside the given region.</p>\n","platforms":[{"since":"7.1.0","name":"iphone"},{"since":"7.1.0","name":"ipad"}],"type":"Number","permission":"read-only"},{"name":"REGION_STATE_OUTSIDE","summary":"<p>Possible value of the <code>state</code> property in the <a href=\"/api/modules/geofence.html#regionstate\">regionstate</a> event object.</p>\n","description":"<p>The location is outside of the given region.</p>\n","platforms":[{"since":"7.1.0","name":"iphone"},{"since":"7.1.0","name":"ipad"}],"type":"Number","permission":"read-only"},{"name":"REGION_STATE_UNKNOWN","summary":"<p>Possible value of the <code>state</code> property in the <a href=\"/api/modules/geofence.html#regionstate\">regionstate</a> event object.</p>\n","description":"<p>It is unknown whether the location is inside or outside of the region.</p>\n","platforms":[{"since":"7.1.0","name":"iphone"},{"since":"7.1.0","name":"ipad"}],"type":"Number","permission":"read-only"}]}
